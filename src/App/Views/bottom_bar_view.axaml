<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:App.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="28"
             x:Class="App.Views.bottom_bar_view"
             x:DataType="vm:bottom_bar_view_model">

    <Border Background="{DynamicResource PanelBackgroundBrush}"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="0,1,0,0"
            Height="28">
        <Grid ColumnDefinitions="Auto,Auto,Auto,*,Auto,Auto,Auto">
            <!-- Terminal Toggle -->
            <Button Grid.Column="0"
                    Classes="statusbar-btn"
                    Command="{Binding ToggleTerminalCommand}"
                    ToolTip.Tip="Toggle Terminal">
                <StackPanel Orientation="Horizontal" Spacing="4">
                    <TextBlock Text="â–¶" FontSize="10"
                               RenderTransform="{Binding TerminalToggleRotation}"/>
                    <TextBlock Text="Terminal" FontSize="11"/>
                </StackPanel>
            </Button>

            <Separator Grid.Column="1"
                       Width="1"
                       Background="{DynamicResource BorderBrush}"
                       Margin="4,6"/>

            <!-- Console/Output Toggle -->
            <Button Grid.Column="2"
                    Classes="statusbar-btn"
                    Command="{Binding ToggleConsoleCommand}"
                    ToolTip.Tip="Toggle Console Output">
                <StackPanel Orientation="Horizontal" Spacing="4">
                    <TextBlock Text="ðŸ“‹" FontSize="10"/>
                    <TextBlock Text="Console" FontSize="11"/>
                </StackPanel>
            </Button>

            <!-- Spacer -->
            <Panel Grid.Column="3"/>

            <!-- Status Message -->
            <TextBlock Grid.Column="4"
                       Text="{Binding StatusMessage}"
                       FontSize="11"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       VerticalAlignment="Center"
                       Margin="8,0"/>

            <Separator Grid.Column="5"
                       Width="1"
                       Background="{DynamicResource BorderBrush}"
                       Margin="4,6"/>

            <!-- Version -->
            <TextBlock Grid.Column="6"
                       Text="v1.0.0"
                       FontSize="11"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       VerticalAlignment="Center"
                       Margin="8,0,12,0"/>
        </Grid>
    </Border>

    <UserControl.Styles>
        <Style Selector="Button.statusbar-btn">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}"/>
            <Setter Property="CornerRadius" Value="0"/>
        </Style>
        <Style Selector="Button.statusbar-btn:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource ButtonBackgroundBrush}"/>
        </Style>
        <Style Selector="Button.statusbar-btn:pointerover">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
        </Style>
    </UserControl.Styles>
</UserControl>
